
#include <linux/pm.h>
#include <linux/of_platform.h>
#include <asm/mach-types.h>
#include <mach/board.h>
#include <mach/battery_custom_data.h>
#include <mach/charging.h>
#include <linux/i2c.h>
#include <mach/mt_gpio.h>
#include <mt8135_ariel/cust_gpio_usage.h>

BATTERY_CYCLE_STRUC custom_battery_aging_table[] = {
	{0, 100},
	{1, 100},
	{2, 100},
	{3, 100},
	{4, 100},
	{5, 100},
	{6, 100},
	{7, 100},
	{8, 100},
	{9,  99 },
	{10, 99 },
	{11, 99 },
	{12, 99 },
	{13, 99 },
	{14, 99 },
	{15, 99 },
	{16, 99 },
	{17, 99 },
	{18, 99 },
	{19, 99 },
	{20, 99 },
	{21, 99 },
	{22, 99 },
	{23, 99 },
	{24, 99 },
	{25, 99 },
	{26, 99 },
	{27, 99 },
	{28, 99 },
	{29, 99 },
	{30, 98 },
	{31, 98 },
	{32, 98 },
	{33, 98 },
	{34, 98 },
	{35, 98 },
	{36, 98 },
	{37, 98 },
	{38, 98 },
	{39, 98 },
	{40, 98 },
	{41, 98 },
	{42, 98 },
	{43, 98 },
	{44, 98 },
	{45, 98 },
	{46, 98 },
	{47, 98 },
	{48, 98 },
	{49, 98 },
	{50, 98 },
	{51, 98 },
	{52, 98 },
	{53, 98 },
	{54, 98 },
	{55, 97 },
	{56, 97 },
	{57, 97 },
	{58, 97 },
	{59, 97 },
	{60, 97 },
	{61, 97 },
	{62, 97 },
	{63, 97 },
	{64, 97 },
	{65, 97 },
	{66, 97 },
	{67, 97 },
	{68, 97 },
	{69, 97 },
	{70, 97 },
	{71, 97 },
	{72, 97 },
	{73, 97 },
	{74, 97 },
	{75, 97 },
	{76, 97 },
	{77, 97 },
	{78, 97 },
	{79, 97 },
	{80, 97 },
	{81, 97 },
	{82, 97 },
	{83, 97 },
	{84, 97 },
	{85, 97 },
	{86, 97 },
	{87, 97 },
	{88, 97 },
	{89, 97 },
	{90, 97 },
	{91, 97 },
	{92, 97 },
	{93, 97 },
	{94, 97 },
	{95, 96 },
	{96, 96 },
	{97, 96 },
	{98, 96 },
	{99, 96 },
	{100, 96 },
	{101, 96 },
	{102, 96 },
	{103, 96 },
	{104, 96 },
	{105, 96 },
	{106, 96 },
	{107, 96 },
	{108, 96 },
	{109, 96 },
	{110, 96 },
	{111, 96 },
	{112, 96 },
	{113, 96 },
	{114, 96 },
	{115, 96 },
	{116, 96 },
	{117, 96 },
	{118, 96 },
	{119, 96 },
	{120, 96 },
	{121, 96 },
	{122, 96 },
	{123, 96 },
	{124, 96 },
	{125, 96 },
	{126, 95 },
	{127, 96 },
	{128, 96 },
	{129, 96 },
	{130, 96 },
	{131, 96 },
	{132, 96 },
	{133, 96 },
	{134, 96 },
	{135, 96 },
	{136, 96 },
	{137, 96 },
	{138, 96 },
	{139, 96 },
	{140, 95 },
	{141, 95 },
	{142, 95 },
	{143, 95 },
	{144, 95 },
	{145, 95 },
	{146, 95 },
	{147, 95 },
	{148, 95 },
	{149, 95 },
	{150, 95 },
	{151, 95 },
	{152, 95 },
	{153, 95 },
	{154, 95 },
	{155, 95 },
	{156, 95 },
	{157, 95 },
	{158, 95 },
	{159, 95 },
	{160, 95 },
	{161, 95 },
	{162, 95 },
	{163, 95 },
	{164, 95 },
	{165, 95 },
	{166, 95 },
	{167, 95 },
	{168, 95 },
	{169, 95 },
	{170, 95 },
	{171, 95 },
	{172, 95 },
	{173, 95 },
	{174, 95 },
	{175, 95 },
	{176, 95 },
	{177, 95 },
	{178, 95 },
	{179, 95 },
	{180, 95 },
	{181, 95 },
	{182, 95 },
	{183, 95 },
	{184, 95 },
	{185, 95 },
	{186, 95 },
	{187, 95 },
	{188, 95 },
	{189, 95 },
	{190, 95 },
	{191, 95 },
	{192, 94 },
	{193, 94 },
	{194, 94 },
	{195, 94 },
	{196, 94 },
	{197, 94 },
	{198, 94 },
	{199, 94 },
	{200, 94 },
	{201, 94 },
	{202, 94 },
	{203, 94 },
	{204, 94 },
	{205, 94 },
	{206, 94 },
	{207, 94 },
	{208, 94 },
	{209, 94 },
	{210, 94 },
	{211, 94 },
	{212, 94 },
	{213, 94 },
	{214, 94 },
	{215, 94 },
	{216, 94 },
	{217, 94 },
	{218, 94 },
	{219, 94 },
	{220, 94 },
	{221, 94 },
	{222, 94 },
	{223, 94 },
	{224, 94 },
	{225, 94 },
	{226, 94 },
	{227, 94 },
	{228, 94 },
	{229, 94 },
	{230, 94 },
	{231, 94 },
	{232, 94 },
	{233, 94 },
	{234, 94 },
	{235, 94 },
	{236, 94 },
	{237, 94 },
	{238, 94 },
	{239, 94 },
	{240, 94 },
	{241, 94 },
	{242, 94 },
	{243, 94 },
	{244, 94 },
	{245, 94 },
	{246, 94 },
	{247, 94 },
	{248, 94 },
	{249, 94 },
	{250, 93 },
	{251, 93 },
	{252, 93 },
	{253, 93 },
	{254, 93 },
	{255, 93 },
	{256, 93 },
	{257, 93 },
	{258, 93 },
	{259, 93 },
	{260, 93 },
	{261, 93 },
	{262, 93 },
	{263, 93 },
	{264, 93 },
	{265, 93 },
	{266, 93 },
	{267, 93 },
	{268, 93 },
	{269, 93 },
	{270, 93 },
	{271, 93 },
	{272, 93 },
	{273, 93 },
	{274, 93 },
	{275, 93 },
	{276, 93 },
	{277, 93 },
	{278, 93 },
	{279, 93 },
	{280, 93 },
	{281, 93 },
	{282, 93 },
	{283, 93 },
	{284, 93 },
	{285, 93 },
	{286, 93 },
	{287, 93 },
	{288, 93 },
	{289, 93 },
	{290, 93 },
	{291, 93 },
	{292, 93 },
	{293, 93 },
	{294, 93 },
	{295, 93 },
	{296, 93 },
	{297, 93 },
	{298, 93 },
	{299, 93 },
	{300, 93 },
	{301, 93 },
	{302, 93 },
	{303, 93 },
	{304, 93 },
	{305, 93 },
	{306, 93 },
	{307, 93 },
	{308, 93 },
	{309, 93 },
	{310, 93 },
	{311, 92 },
	{312, 92 },
	{313, 92 },
	{314, 92 },
	{315, 92 },
	{316, 92 },
	{317, 92 },
	{318, 92 },
	{319, 92 },
	{320, 92 },
	{321, 92 },
	{322, 92 },
	{323, 92 },
	{324, 92 },
	{325, 92 },
	{326, 92 },
	{327, 92 },
	{328, 92 },
	{329, 92 },
	{330, 92 },
	{331, 92 },
	{332, 92 },
	{333, 92 },
	{334, 92 },
	{335, 92 },
	{336, 92 },
	{337, 92 },
	{338, 92 },
	{339, 92 },
	{340, 92 },
	{341, 92 },
	{342, 92 },
	{343, 92 },
	{344, 92 },
	{345, 92 },
	{346, 92 },
	{347, 92 },
	{348, 92 },
	{349, 92 },
	{350, 92 },
	{351, 92 },
	{352, 92 },
	{353, 92 },
	{354, 92 },
	{355, 92 },
	{356, 92 },
	{357, 92 },
	{358, 92 },
	{359, 92 },
	{360, 92 },
	{361, 92 },
	{362, 92 },
	{363, 92 },
	{364, 92 },
	{365, 92 },
	{366, 92 },
	{367, 92 },
	{368, 92 },
	{369, 92 },
	{370, 92 },
	{371, 92 },
	{372, 92 },
	{373, 92 },
	{374, 92 },
	{375, 92 },
	{376, 92 },
	{377, 92 },
	{378, 92 },
	{379, 92 },
	{380, 92 },
	{381, 92 },
	{382, 92 },
	{383, 92 },
	{384, 92 },
	{385, 92 },
	{386, 92 },
	{387, 92 },
	{388, 92 },
	{389, 92 },
	{390, 92 },
	{391, 92 },
	{392, 92 },
	{393, 92 },
	{394, 92 },
	{395, 92 },
	{396, 92 },
	{397, 92 },
	{398, 92 },
	{399, 92 },
	{400, 92 },
	{401, 91 },
	{402, 91 },
	{403, 91 },
	{404, 91 },
	{405, 91 },
	{406, 91 },
	{407, 91 },
	{408, 91 },
	{409, 91 },
	{410, 91 },
	{411, 91 },
	{412, 91 },
	{413, 91 },
	{414, 91 },
	{415, 91 },
	{416, 91 },
	{417, 91 },
	{418, 91 },
	{419, 91 },
	{420, 91 },
	{421, 91 },
	{422, 91 },
	{423, 91 },
	{424, 91 },
	{425, 91 },
	{426, 91 },
	{427, 91 },
	{428, 91 },
	{429, 91 },
	{430, 91 },
	{431, 91 },
	{432, 91 },
	{433, 91 },
	{434, 91 },
	{435, 91 },
	{436, 91 },
	{437, 91 },
	{438, 91 },
	{439, 91 },
	{440, 91 },
	{441, 91 },
	{442, 91 },
	{443, 91 },
	{444, 91 },
	{445, 91 },
	{446, 91 },
	{447, 91 },
	{448, 91 },
	{449, 91 },
	{450, 91 },
	{451, 91 },
	{452, 91 },
	{453, 91 },
	{454, 91 },
	{455, 91 },
	{456, 91 },
	{457, 91 },
	{458, 91 },
	{459, 91 },
	{460, 91 },
	{461, 91 },
	{462, 91 },
	{463, 91 },
	{464, 91 },
	{465, 91 },
	{466, 91 },
	{467, 91 },
	{468, 91 },
	{469, 91 },
	{470, 91 },
	{471, 91 },
	{472, 91 },
	{473, 91 },
	{474, 91 },
	{475, 91 },
	{476, 91 },
	{477, 91 },
	{478, 91 },
	{479, 91 },
	{480, 91 },
	{481, 91 },
	{482, 91 },
	{483, 90 },
	{484, 90 },
	{485, 90 },
	{486, 90 },
	{487, 90 },
	{488, 90 },
	{489, 90 },
	{490, 90 },
	{491, 90 },
	{492, 90 },
	{493, 90 },
	{494, 90 },
	{495, 90 },
	{496, 90 },
	{497, 90 },
	{498, 90 },
	{499, 90 },
	{500, 90}
};

BATT_TEMPERATURE custom_Batt_Temperature_Table[] = {
	{-20, 499900},
	{-15, 371600},
	{-10, 278700},
	{-5, 210800},
	{0, 160800},
	{5, 123800},
	{10, 96030},
	{15, 75100},
	{20, 59190},
	{25, 47000},
	{30, 37590},
	{35, 30270},
	{40, 24540},
	{45, 20020},
	{50, 16430},
	{55, 13570},
	{60, 11270},
	{65, 9409},
	{70, 7897}
};

/* T0 -10C */
BATTERY_PROFILE_STRUC custom_battery_profile_t0[] = {
	{0  , 4159},
	{2  , 4143},
	{4  , 4128},
	{6  , 4115},
	{8  , 4101},
	{10 , 4089},
	{12 , 4079},
	{13 , 4068},
	{15 , 4058},
	{17 , 4048},
	{19 , 4038},
	{21 , 4028},
	{23 , 4019},
	{25 , 4008},
	{27 , 3994},
	{29 , 3954},
	{31 , 3904},
	{33 , 3887},
	{35 , 3872},
	{36 , 3860},
	{38 , 3849},
	{40 , 3840},
	{42 , 3833},
	{44 , 3826},
	{46 , 3821},
	{48 , 3816},
	{50 , 3811},
	{52 , 3806},
	{54 , 3801},
	{56 , 3796},
	{58 , 3791},
	{60 , 3786},
	{61 , 3781},
	{63 , 3776},
	{65 , 3771},
	{67 , 3765},
	{69 , 3759},
	{71 , 3753},
	{73 , 3748},
	{75 , 3742},
	{77 , 3737},
	{79 , 3732},
	{81 , 3727},
	{83 , 3721},
	{84 , 3715},
	{86 , 3708},
	{88 , 3699},
	{90 , 3692},
	{91 , 3686},
	{92 , 3682},
	{93 , 3677},
	{94 , 3673},
	{95 , 3670},
	{95 , 3667},
	{96 , 3663},
	{96 , 3660},
	{97 , 3657},
	{97 , 3655},
	{97 , 3652},
	{97 , 3650},
	{98 , 3647},
	{98 , 3645},
	{98 , 3643},
	{98 , 3640},
	{99 , 3638},
	{99 , 3635},
	{99 , 3633},
	{99 , 3632},
	{99 , 3630},
	{99 , 3629},
	{99 , 3628},
	{99 , 3626},
	{99 , 3625},
	{100, 3623}
};

/* T1 0C */
BATTERY_PROFILE_STRUC custom_battery_profile_t1[] = {
	{0  , 4179},
	{2  , 4162},
	{3  , 4149},
	{5  , 4132},
	{7  , 4108},
	{9  , 4051},
	{10 , 4027},
	{12 , 4014},
	{14 , 4002},
	{15 , 3989},
	{17 , 3978},
	{19 , 3968},
	{21 , 3959},
	{22 , 3949},
	{24 , 3941},
	{26 , 3930},
	{27 , 3922},
	{29 , 3910},
	{31 , 3898},
	{33 , 3887},
	{34 , 3876},
	{36 , 3865},
	{38 , 3854},
	{39 , 3844},
	{41 , 3836},
	{43 , 3828},
	{44 , 3823},
	{46 , 3817},
	{48 , 3813},
	{50 , 3807},
	{51 , 3803},
	{53 , 3799},
	{55 , 3795},
	{56 , 3792},
	{58 , 3788},
	{60 , 3784},
	{62 , 3780},
	{63 , 3777},
	{65 , 3776},
	{67 , 3773},
	{68 , 3770},
	{70 , 3767},
	{72 , 3762},
	{74 , 3758},
	{75 , 3753},
	{77 , 3748},
	{79 , 3742},
	{80 , 3733},
	{82 , 3724},
	{84 , 3713},
	{86 , 3706},
	{87 , 3699},
	{89 , 3695},
	{91 , 3690},
	{92 , 3681},
	{94 , 3665},
	{96 , 3621},
	{98 , 3534},
	{98 , 3484},
	{99 , 3464},
	{99 , 3453},
	{99 , 3444},
	{99 , 3438},
	{99 , 3436},
	{99 , 3434},
	{99 , 3433},
	{99 , 3430},
	{99 , 3428},
	{99 , 3427},
	{100, 3427},
	{100, 3428},
	{100, 3426},
	{100, 3425},
	{100, 3425}
};

/* T2 25C */
BATTERY_PROFILE_STRUC custom_battery_profile_t2[] = {
	{0  , 4176},
	{2  , 4156},
	{3  , 4140},
	{5  , 4125},
	{6  , 4110},
	{8  , 4096},
	{9  , 4083},
	{11 , 4070},
	{12 , 4057},
	{14 , 4044},
	{15 , 4032},
	{17 , 4019},
	{18 , 4008},
	{20 , 3997},
	{22 , 3986},
	{23 , 3976},
	{25 , 3967},
	{26 , 3957},
	{28 , 3948},
	{29 , 3939},
	{31 , 3930},
	{32 , 3922},
	{34 , 3913},
	{35 , 3904},
	{37 , 3895},
	{38 , 3885},
	{40 , 3875},
	{41 , 3863},
	{43 , 3850},
	{45 , 3839},
	{46 , 3830},
	{48 , 3823},
	{49 , 3816},
	{51 , 3811},
	{52 , 3806},
	{54 , 3801},
	{55 , 3797},
	{57 , 3793},
	{58 , 3789},
	{60 , 3786},
	{61 , 3783},
	{63 , 3780},
	{65 , 3777},
	{66 , 3775},
	{68 , 3772},
	{69 , 3769},
	{71 , 3768},
	{72 , 3765},
	{74 , 3761},
	{75 , 3758},
	{77 , 3752},
	{78 , 3746},
	{80 , 3740},
	{81 , 3733},
	{83 , 3725},
	{85 , 3715},
	{86 , 3705},
	{88 , 3691},
	{89 , 3684},
	{91 , 3681},
	{92 , 3677},
	{94 , 3673},
	{95 , 3665},
	{97 , 3619},
	{98 , 3538},
	{100, 3409},
	{101, 3326},
	{101, 3312},
	{101, 3305},
	{101, 3301},
	{101, 3296},
	{101, 3294},
	{101, 3292},
	{101, 3289}
};

/* T3 50C */
BATTERY_PROFILE_STRUC custom_battery_profile_t3[] = {
	{0  , 4185},
	{2  , 4169},
	{3  , 4154},
	{5  , 4139},
	{6  , 4124},
	{8  , 4109},
	{9  , 4096},
	{11 , 4083},
	{12 , 4070},
	{14 , 4057},
	{16 , 4044},
	{17 , 4032},
	{19 , 4019},
	{20 , 4008},
	{22 , 3997},
	{23 , 3986},
	{25 , 3976},
	{26 , 3965},
	{28 , 3956},
	{29 , 3945},
	{31 , 3937},
	{33 , 3928},
	{34 , 3918},
	{36 , 3910},
	{37 , 3901},
	{39 , 3893},
	{40 , 3884},
	{42 , 3871},
	{43 , 3855},
	{45 , 3843},
	{47 , 3836},
	{48 , 3828},
	{50 , 3823},
	{51 , 3815},
	{53 , 3810},
	{54 , 3806},
	{56 , 3801},
	{57 , 3796},
	{59 , 3793},
	{60 , 3788},
	{62 , 3785},
	{64 , 3781},
	{65 , 3777},
	{67 , 3776},
	{68 , 3772},
	{70 , 3767},
	{71 , 3761},
	{73 , 3751},
	{74 , 3748},
	{76 , 3742},
	{78 , 3735},
	{79 , 3728},
	{81 , 3723},
	{82 , 3717},
	{84 , 3707},
	{85 , 3696},
	{87 , 3686},
	{88 , 3672},
	{90 , 3669},
	{91 , 3667},
	{93 , 3665},
	{95 , 3660},
	{96 , 3640},
	{98 , 3578},
	{99 , 3483},
	{101, 3316},
	{101, 3274},
	{101, 3265},
	{101, 3261},
	{101, 3258},
	{101, 3258},
	{101, 3256},
	{101, 3256},
	{101, 3255}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3 */
BATTERY_PROFILE_STRUC custom_battery_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

/* ============================================================ */
/* <Rbat, Battery_Voltage> Table */
/* ============================================================ */
/* BAT1 R profile */
/* T0 -10C */
R_PROFILE_STRUC custom_r_profile_t0[] = {
	{283, 4159},
	{283, 4143},
	{290, 4128},
	{293, 4115},
	{293, 4101},
	{295, 4089},
	{298, 4079},
	{300, 4068},
	{300, 4058},
	{302, 4048},
	{307, 4038},
	{310, 4028},
	{320, 4019},
	{335, 4008},
	{363, 3994},
	{435, 3954},
	{677, 3904},
	{683, 3887},
	{682, 3872},
	{677, 3860},
	{672, 3849},
	{675, 3840},
	{675, 3833},
	{672, 3826},
	{680, 3821},
	{682, 3816},
	{685, 3811},
	{685, 3806},
	{690, 3801},
	{695, 3796},
	{698, 3791},
	{703, 3786},
	{705, 3781},
	{707, 3776},
	{713, 3771},
	{715, 3765},
	{718, 3759},
	{722, 3753},
	{727, 3748},
	{732, 3742},
	{738, 3737},
	{750, 3732},
	{757, 3727},
	{767, 3721},
	{782, 3715},
	{798, 3708},
	{815, 3699},
	{820, 3692},
	{810, 3686},
	{803, 3682},
	{795, 3677},
	{788, 3673},
	{783, 3670},
	{780, 3667},
	{773, 3663},
	{768, 3660},
	{763, 3657},
	{758, 3655},
	{755, 3652},
	{750, 3650},
	{745, 3647},
	{742, 3645},
	{738, 3643},
	{735, 3640},
	{732, 3638},
	{727, 3635},
	{723, 3633},
	{722, 3632},
	{718, 3630},
	{717, 3629},
	{717, 3628},
	{712, 3626},
	{708, 3625},
	{707, 3623}
};

/* T1 0C */
R_PROFILE_STRUC custom_r_profile_t1[] = {
	{170, 4179},
	{170, 4162},
	{173, 4149},
	{178, 4132},
	{185, 4108},
	{230, 4051},
	{313, 4027},
	{330, 4014},
	{332, 4002},
	{337, 3989},
	{342, 3978},
	{343, 3968},
	{350, 3959},
	{348, 3949},
	{357, 3941},
	{352, 3930},
	{357, 3922},
	{355, 3910},
	{350, 3898},
	{345, 3887},
	{345, 3876},
	{340, 3865},
	{337, 3854},
	{337, 3844},
	{332, 3836},
	{333, 3828},
	{333, 3823},
	{335, 3817},
	{340, 3813},
	{340, 3807},
	{342, 3803},
	{340, 3799},
	{345, 3795},
	{348, 3792},
	{347, 3788},
	{350, 3784},
	{347, 3780},
	{352, 3777},
	{350, 3776},
	{357, 3773},
	{352, 3770},
	{355, 3767},
	{355, 3762},
	{358, 3758},
	{355, 3753},
	{362, 3748},
	{363, 3742},
	{362, 3733},
	{362, 3724},
	{357, 3713},
	{362, 3706},
	{368, 3699},
	{377, 3695},
	{392, 3690},
	{420, 3681},
	{445, 3665},
	{465, 3621},
	{503, 3534},
	{477, 3484},
	{442, 3464},
	{422, 3453},
	{408, 3444},
	{400, 3438},
	{393, 3436},
	{395, 3434},
	{388, 3433},
	{385, 3430},
	{383, 3428},
	{383, 3427},
	{380, 3427},
	{380, 3428},
	{378, 3426},
	{375, 3425},
	{378, 3425}
};

/* T2 25C */
R_PROFILE_STRUC custom_r_profile_t2[] = {
	{140, 4176},
	{140, 4156},
	{143, 4140},
	{145, 4125},
	{147, 4110},
	{148, 4096},
	{150, 4083},
	{150, 4070},
	{152, 4057},
	{153, 4044},
	{155, 4032},
	{157, 4019},
	{158, 4008},
	{162, 3997},
	{163, 3986},
	{165, 3976},
	{168, 3967},
	{170, 3957},
	{172, 3948},
	{175, 3939},
	{177, 3930},
	{178, 3922},
	{180, 3913},
	{180, 3904},
	{180, 3895},
	{177, 3885},
	{173, 3875},
	{167, 3863},
	{158, 3850},
	{152, 3839},
	{148, 3830},
	{147, 3823},
	{145, 3816},
	{147, 3811},
	{148, 3806},
	{147, 3801},
	{148, 3797},
	{150, 3793},
	{150, 3789},
	{152, 3786},
	{153, 3783},
	{155, 3780},
	{153, 3777},
	{155, 3775},
	{155, 3772},
	{155, 3769},
	{157, 3768},
	{157, 3765},
	{155, 3761},
	{155, 3758},
	{152, 3752},
	{152, 3746},
	{150, 3740},
	{150, 3733},
	{152, 3725},
	{152, 3715},
	{155, 3705},
	{152, 3691},
	{152, 3684},
	{157, 3681},
	{160, 3677},
	{170, 3673},
	{185, 3665},
	{172, 3619},
	{180, 3538},
	{202, 3409},
	{212, 3326},
	{187, 3312},
	{175, 3305},
	{168, 3301},
	{163, 3296},
	{158, 3294},
	{157, 3292},
	{152, 3289}
};

/* T3 50C */
R_PROFILE_STRUC custom_r_profile_t3[] = {
	{103, 4185},
	{103, 4169},
	{105, 4154},
	{107, 4139},
	{107, 4124},
	{105, 4109},
	{107, 4096},
	{107, 4083},
	{110, 4070},
	{110, 4057},
	{110, 4044},
	{112, 4032},
	{110, 4019},
	{112, 4008},
	{112, 3997},
	{113, 3986},
	{115, 3976},
	{117, 3965},
	{118, 3956},
	{118, 3945},
	{120, 3937},
	{125, 3928},
	{125, 3918},
	{127, 3910},
	{128, 3901},
	{132, 3893},
	{133, 3884},
	{125, 3871},
	{115, 3855},
	{108, 3843},
	{108, 3836},
	{108, 3828},
	{110, 3823},
	{108, 3815},
	{108, 3810},
	{112, 3806},
	{108, 3801},
	{112, 3796},
	{115, 3793},
	{112, 3788},
	{115, 3785},
	{115, 3781},
	{115, 3777},
	{118, 3776},
	{120, 3772},
	{118, 3767},
	{115, 3761},
	{108, 3751},
	{113, 3748},
	{112, 3742},
	{110, 3735},
	{105, 3728},
	{108, 3723},
	{110, 3717},
	{108, 3707},
	{110, 3696},
	{112, 3686},
	{103, 3672},
	{108, 3669},
	{110, 3667},
	{118, 3665},
	{123, 3660},
	{123, 3640},
	{122, 3578},
	{125, 3483},
	{143, 3316},
	{125, 3274},
	{108, 3265},
	{103, 3261},
	{100, 3258},
	{100, 3258},
	{95 , 3256},
	{98 , 3256},
	{98 , 3255}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3 */
R_PROFILE_STRUC custom_r_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

static struct i2c_board_info i2c_bq24297 __initdata = { I2C_BOARD_INFO("bq24297", (0xd6 >> 1)) };

#define BQ24297_BUSNUM 4

void __init mt_charger_init(void)
{
	i2c_register_board_info(BQ24297_BUSNUM, &i2c_bq24297, 1);
}

void __init mt_custom_battery_init(void)
{
	mt_bat_meter_data.q_max_pos_50 = 3483;
	mt_bat_meter_data.q_max_pos_25 = 3502;
	mt_bat_meter_data.q_max_pos_0 = 3156;
	mt_bat_meter_data.q_max_neg_10 = 2805;

	mt_bat_meter_data.q_max_pos_50_h_current = 3458;
	mt_bat_meter_data.q_max_pos_25_h_current = 3457;
	mt_bat_meter_data.q_max_pos_0_h_current = 2967;
	mt_bat_meter_data.q_max_neg_10_h_current = 1400;

	mt_bat_meter_data.cust_tracking_point = 0;
	mt_bat_meter_data.car_tune_value = 100;
	mt_bat_meter_data.cust_r_fg_offset = 0;

	/* NTC 47K */
	mt_bat_meter_data.rbat_pull_up_r = 24000;
	mt_bat_meter_data.rbat_pull_down_r = 100000000;

	mt_bat_meter_data.battery_profile_saddles =
	    sizeof(custom_battery_profile_temperature) / sizeof(BATTERY_PROFILE_STRUC);
	mt_bat_meter_data.battery_r_profile_saddles =
	    sizeof(custom_r_profile_temperature) / sizeof(R_PROFILE_STRUC);
	mt_bat_meter_data.battery_aging_table_saddles =
	    sizeof(custom_battery_aging_table) / sizeof(BATTERY_CYCLE_STRUC);
	mt_bat_meter_data.battery_ntc_table_saddles =
		sizeof(custom_Batt_Temperature_Table) / sizeof(BATT_TEMPERATURE);
	mt_bat_meter_data.p_batt_temperature_table = custom_Batt_Temperature_Table;
	mt_bat_meter_data.p_battery_profile_t0 = custom_battery_profile_t0;
	mt_bat_meter_data.p_battery_profile_t1 = custom_battery_profile_t1;
	mt_bat_meter_data.p_battery_profile_t2 = custom_battery_profile_t2;
	mt_bat_meter_data.p_battery_profile_t3 = custom_battery_profile_t3;
	mt_bat_meter_data.p_r_profile_t0 = custom_r_profile_t0;
	mt_bat_meter_data.p_r_profile_t1 = custom_r_profile_t1;
	mt_bat_meter_data.p_r_profile_t2 = custom_r_profile_t2;
	mt_bat_meter_data.p_r_profile_t3 = custom_r_profile_t3;
	mt_bat_meter_data.p_battery_profile_temperature = custom_battery_profile_temperature;
	mt_bat_meter_data.p_r_profile_temperature = custom_r_profile_temperature;
	mt_bat_meter_data.p_battery_aging_table = custom_battery_aging_table;
	mt_bat_charging_data.charger_enable_pin = GPIO_CHR_CE_PIN;

	mt_bat_charging_data.jeita_temp_above_pos_60_cv_voltage = BATTERY_VOLT_04_000000_V;
	mt_bat_charging_data.jeita_temp_pos_45_to_pos_60_cv_voltage = BATTERY_VOLT_04_000000_V;
	mt_bat_charging_data.jeita_temp_pos_10_to_pos_45_cv_voltage = BATTERY_VOLT_04_200000_V;
	mt_bat_charging_data.jeita_temp_pos_0_to_pos_10_cv_voltage = BATTERY_VOLT_04_000000_V;
	mt_bat_charging_data.jeita_temp_neg_10_to_pos_0_cv_voltage = BATTERY_VOLT_04_000000_V;
	mt_bat_charging_data.jeita_temp_below_neg_10_cv_voltage = BATTERY_VOLT_04_000000_V;

	mt_bat_charging_data.use_avg_temperature = 0;
	mt_bat_charging_data.max_charge_temperature = 60;
	mt_bat_charging_data.min_charge_temperature = 0;
	mt_bat_charging_data.temp_pos_60_threshold = 60;
	mt_bat_charging_data.temp_pos_60_thres_minus_x_degree = 57;
	mt_bat_charging_data.temp_pos_45_threshold = 45;
	mt_bat_charging_data.temp_pos_45_thres_minus_x_degree = 44;
	mt_bat_charging_data.temp_pos_10_threshold = 15;
	mt_bat_charging_data.temp_pos_10_thres_plus_x_degree = 16;
	mt_bat_charging_data.temp_pos_0_threshold = 1;
	mt_bat_charging_data.temp_pos_0_thres_plus_x_degree = 2;
	mt_bat_charging_data.temp_neg_10_threshold = -10;
	mt_bat_charging_data.temp_neg_10_thres_plus_x_degree = -10;
}
